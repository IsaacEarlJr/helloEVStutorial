<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Isaac Coleman">

<title>EVS 3000L JS Map Tutorial</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">EVS 3000L JS Map Tutorial</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Isaac Coleman </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction"><strong>Introduction</strong></h2>
<p>This tutorial offers a simple introduction to GIS and basic programming in a way that connects to natural resources. It pairs with the R tutorial to give students a broader perspective on how mapping and data analysis are used in environmental science.</p>
<p>The goal is to provide a basic foundation, making these topics feel more approachable if students encounter them again in the future. While this is not an advanced training, it serves as a helpful introduction to key concepts used in the field.</p>
<p>For this exercise, we will be using data collected from the Natural Area Teaching Lab (NATL). The data is now loaded and ready to be used in this program to explore basic GIS functions and applications.</p>
<section id="before-you-begin" class="level3">
<h3 class="anchored" data-anchor-id="before-you-begin"><strong>Before You Begin</strong></h3>
<p>To complete this tutorial, you will need:</p>
<ul>
<li>A <strong>GitHub account</strong> to manage your code. <a href="https://github.com/">GitHub</a></li>
<li>An <strong>ArcGIS Online account</strong> to access GIS data services. <a href="https://www.arcgis.com/index.html">ArcGIS Online</a></li>
</ul>
<p>(GitHub is free, but ArcGIS Online requires affiliation with an institution (e.g., a university) or a paid subscription. If you are a student, check with your school for access.)</p>
<hr>
</section>
</section>
<section id="step-1-basic-html-structure" class="level2">
<h2 class="anchored" data-anchor-id="step-1-basic-html-structure"><strong>Step 1: Basic HTML Structure</strong></h2>
<p>Every webpage starts with a simple <strong>HTML structure</strong>.</p>
<ul>
<li>The <code>&lt;!DOCTYPE html&gt;</code> declaration, which tells the browser we are using <strong>HTML5</strong>.</li>
<li>The <code>&lt;html&gt;</code> element, which <strong>wraps everything</strong> inside the document.</li>
<li>The <code>&lt;head&gt;</code> section, where we define the <strong>title</strong> of the page.</li>
<li>The <code>&lt;body&gt;</code> section, which contains the <strong>visible content</strong>.</li>
</ul>
<hr>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;EVS 3000L&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;p&gt;Hello, EVS!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<hr>
</section>
<section id="step-2-adding-javascript-libraries" class="level2">
<h2 class="anchored" data-anchor-id="step-2-adding-javascript-libraries"><strong>Step 2: Adding JavaScript Libraries</strong></h2>
<p>In this step, we install <strong>Leaflet</strong>, a JavaScript library designed for interactive mapping.</p>
<section id="what-is-a-library" class="level3">
<h3 class="anchored" data-anchor-id="what-is-a-library"><strong>What is a Library?</strong></h3>
<ul>
<li>A <strong>library</strong> is a collection of <strong>pre-written code</strong> that provides useful functions.<br>
</li>
<li>It <strong>saves time and effort</strong> by allowing us to perform tasks without writing every function from scratch.<br>
</li>
<li>In <strong>GIS</strong>, mapping libraries help:
<ul>
<li>Manage <strong>spatial data</strong><br>
</li>
<li>Render <strong>maps</strong><br>
</li>
<li>Create <strong>interactive features</strong></li>
</ul></li>
</ul>
</section>
<section id="why-use-leaflet" class="level3">
<h3 class="anchored" data-anchor-id="why-use-leaflet"><strong>Why Use Leaflet?</strong></h3>
<ul>
<li><strong>Lightweight</strong>, efficient, and easy to use.<br>
</li>
<li>Provides built-in tools for <strong>displaying maps, adding layers, and handling user interactions</strong>.<br>
</li>
<li>Allows us to <strong>quickly set up an interactive map</strong> with minimal code.</li>
</ul>
</section>
<section id="loading-leaflet-from-a-cdn" class="level3">
<h3 class="anchored" data-anchor-id="loading-leaflet-from-a-cdn"><strong>Loading Leaflet from a CDN</strong></h3>
<p>The code below loads Leaflet from a Content Delivery Network (CDN), making it available for use in our project.</p>
<ul>
<li><code>&lt;link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" /&gt;</code></li>
<li><code>&lt;script src="https://unpkg.com/leaflet/dist/leaflet.js"&gt;&lt;/script&gt;</code></li>
</ul>
<hr>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;EVS 3000L&lt;/title&gt;

    &lt;!-- Load Leaflet from CDN --&gt;
    &lt;link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" /&gt;
    &lt;script src="https://unpkg.com/leaflet/dist/leaflet.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;p&gt;Leaflet is now ready!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>After adding this, Leaflet is installed and ready to use, allowing us to create and customize interactive maps in the next steps.</p>
<p><a href="https://leafletjs.com/">Learn more about Leaflet: Leaflet Official Documentation</a></p>
<hr>
</section>
</section>
<section id="step-3-adding-css-styles" class="level2">
<h2 class="anchored" data-anchor-id="step-3-adding-css-styles"><strong>Step 3: Adding CSS Styles</strong></h2>
<p>In this step, we define styles using <strong>CSS (Cascading Style Sheets)</strong>. The CSS controls the appearance and layout of web elements, allowing <strong>customization of colors, fonts, spacing, and responsiveness.</strong> The # symbol targets a specific element by its unique ID, ensuring only that element receives the defined styles, while other selectors like . (class) apply styles to multiple elements.</p>
<section id="what-does-css-do" class="level3">
<h3 class="anchored" data-anchor-id="what-does-css-do">What Does CSS Do?</h3>
<ul>
<li>Allows us to set <strong>colors, fonts, spacing, and layout</strong>.<br>
</li>
<li>Makes content <strong>visually structured and easy to interact with</strong>.</li>
</ul>
</section>
<section id="how-it-applies-to-leaflet" class="level3">
<h3 class="anchored" data-anchor-id="how-it-applies-to-leaflet">How It Applies to Leaflet:</h3>
<ul>
<li>Ensures the <strong>map displays correctly</strong> by setting its size.<br>
</li>
<li>The <code>#mapid</code> container is given a height of <strong>100%</strong> of the viewport height <strong>(100vh)</strong>; width is set to 100%.<br>
</li>
<li>The <strong>width is set to 100%</strong>, making the map responsive.</li>
</ul>
</section>
<section id="understanding-div-elements" class="level3">
<h3 class="anchored" data-anchor-id="understanding-div-elements">Understanding (div) Elements:</h3>
<ul>
<li>The <code>&lt;div&gt;</code> element is a <strong>container</strong> that groups and organizes content.</li>
<li>The <code>id="mapid"</code> attribute gives the <code>&lt;div&gt;</code> a unique identifier, allowing us to target it with CSS and JavaScript.</li>
<li>Without this container <code>&lt;div&gt;</code>, the map would not have a place to display on the webpage.</li>
</ul>
<hr>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;EVS 3000L&lt;/title&gt;

    &lt;link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" /&gt;
    &lt;script src="https://unpkg.com/leaflet/dist/leaflet.js"&gt;&lt;/script&gt;

    &lt;style&gt;
        #mapid {
            height: 100vh;
            width: 100%;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="mapid"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><a href="https://www.w3schools.com/css/css_examples.asp">W3Schools</a> offers a CSS testing tool where you can experiment with CSS code on the fly, and it also provides similar tools for HTML, JavaScript, and other web technologies.]</p>
<hr>
</section>
</section>
<section id="step-4-initialize-leaflet-map" class="level2">
<h2 class="anchored" data-anchor-id="step-4-initialize-leaflet-map"><strong>Step 4: Initialize Leaflet Map</strong></h2>
<p>Now that Leaflet is installed and styled, we need to initialize the map so it appears on the webpage.<br>
This step creates a map instance, which is the core object that manages how the map is displayed and interacts with data.</p>
<section id="what-happens-in-this-step" class="level3">
<h3 class="anchored" data-anchor-id="what-happens-in-this-step">What Happens in This Step?</h3>
<ul>
<li><strong>Creates a map instance</strong> → <code>L.map('mapid')</code> connects Leaflet to the <code>&lt;div&gt;</code> where the map will be displayed.<br>
</li>
<li><strong>Sets the center of the map</strong> → The coordinates <code>[29.7993, -82.7728]</code> define the starting point (latitude, longitude).<br>
</li>
<li><strong>Defines the zoom level</strong> → <code>8.8</code> sets how far the map is zoomed in (higher numbers zoom in closer).</li>
</ul>
<hr>
<pre><code>&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;EVS 3000L&lt;/title&gt;

    &lt;link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" /&gt;
    &lt;script src="https://unpkg.com/leaflet/dist/leaflet.js"&gt;&lt;/script&gt;

    &lt;style&gt;
        #mapid {
            height: 100vh;
            width: 100%;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="mapid"&gt;&lt;/div&gt;

    &lt;script&gt;
        var mymap = L.map('mapid').setView([29.7993, -82.7728], 8.8);
    &lt;/script&gt;


&lt;/body&gt;
&lt;/html&gt;</code></pre>
<hr>
</section>
</section>
<section id="step-5-add-base-layers" class="level2">
<h2 class="anchored" data-anchor-id="step-5-add-base-layers"><strong>Step 5: Add Base Layers</strong></h2>
<p>Now that we have initialized the map, we need to <strong>add base layers</strong>, which serve as the background and provide geographic context for our data. A base layer displays features like <strong>roads, terrain, or satellite imagery</strong>, helping users interpret spatial information.</p>
<p>In this step, we will add two different base layers and include a control panel that lets users switch between them.</p>
<section id="what-happens-in-this-step-1" class="level3">
<h3 class="anchored" data-anchor-id="what-happens-in-this-step-1"><strong>What Happens in This Step?</strong></h3>
<ul>
<li><strong>Loads base layers (Maps)</strong> using <strong><code>L.tileLayer()</code></strong> → This function retrieves different map backgrounds, such as street maps, satellite imagery, and terrain views, from external sources.</li>
<li>Uses <strong><code>addLayersControl()</code></strong> → A function that enables users to <strong>toggle</strong> between base layers using a built-in Leaflet control button.</li>
</ul>
<p><a href="https://leaflet-extras.github.io/leaflet-providers/preview/">Learn more about Leaflet OpenStreet Baselayers:</a></p>
<hr>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Leaflet Base Layers&lt;/title&gt;

    &lt;link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" /&gt;
    &lt;script src="https://unpkg.com/leaflet/dist/leaflet.js"&gt;&lt;/script&gt;

    &lt;style&gt;
        #mapid {
            height: 100vh;
            width: 100%;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="mapid"&gt;&lt;/div&gt;

    &lt;script&gt;
        var mymap = L.map('mapid').setView([29.6339, -82.3699], 16.8);

        var earth = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Map data © OpenStreetMap'
        }).addTo(mymap);

        var satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &amp;copy; Esri, Earthstar Geographics',
            maxZoom: 19
        });

        L.control.layers({
            "Earth": earth,
            "Satellite": satellite
        }).addTo(mymap);
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<hr>
</section>
</section>
<section id="step-6-add-feature-layers" class="level2">
<h2 class="anchored" data-anchor-id="step-6-add-feature-layers"><strong>Step 6: Add Feature Layers</strong></h2>
<p>Now that we have set up the base layers, it’s time to add <strong>feature layers</strong>, which are data layers that contain specific geographic features such as boundaries, points, or polygons. In this step, we will load the <strong>NATL Data</strong> from an <strong>ArcGIS Online feature service</strong> and display them on our map.</p>
<section id="what-happens-in-this-step-2" class="level3">
<h3 class="anchored" data-anchor-id="what-happens-in-this-step-2"><strong>What Happens in This Step?</strong></h3>
<ul>
<li><strong>Loads Esri Leaflet</strong> → A plugin that allows us to use ArcGIS feature layers in Leaflet. (We need to another library similar to what we did in Step 2)
<ul>
<li>Erri Leaflet Library: <code>&lt;script src="https://unpkg.com/esri-leaflet"&gt;&lt;/script&gt;</code></li>
</ul></li>
<li><strong>Adds a feature layer from ArcGIS Online</strong>
<ul>
<li><code>'https://services.arcgis.com/LBbVDC0hKPAnLRpO/arcgis/rest/services/tree_measurement_all/FeatureServer/0'</code></li>
</ul></li>
</ul>
</section>
<section id="why-do-we-need-feature-layers" class="level3">
<h3 class="anchored" data-anchor-id="why-do-we-need-feature-layers"><strong>Why Do We Need Feature Layers?</strong></h3>
<ul>
<li>Unlike base layers, which provide a background map, feature layers display specific data such as roads, water bodies, protected areas, or administrative boundaries.<br>
</li>
<li>Feature layers allow users to visualize, analyze, and interact with geographic data.</li>
</ul>
<hr>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;EVS 3000L&lt;/title&gt;


    &lt;!-- Load Leaflet from CDN --&gt;
    &lt;link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" /&gt;
    &lt;script src="https://unpkg.com/leaflet/dist/leaflet.js"&gt;&lt;/script&gt;

    &lt;!-- Load Esri Leaflet --&gt;
    &lt;script src="https://unpkg.com/esri-leaflet"&gt;&lt;/script&gt;

    &lt;style&gt;
        #mapid {
            height: 100vh;
            width: 100%;
        }
    &lt;/style&gt;

&lt;/head&gt;
&lt;body&gt;

    &lt;!-- Map Container --&gt;
    &lt;div id="mapid"&gt;&lt;/div&gt;

    &lt;script&gt;
        // Initialize Map
        var mymap = L.map('mapid').setView([29.6339, -82.3699], 16.8);

        // Base Layers
        var earth = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Map data © &lt;a href="https://www.openstreetmap.org/"&gt;OpenStreetMap&lt;/a&gt; contributors'
        }).addTo(mymap);

        var satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &amp;copy; Esri, Earthstar Geographics',
            maxZoom: 19
        });

        // Layer Control
        var baseMaps = {
            "Earth": earth,
            "Satellite": satellite
        };

        L.control.layers(baseMaps).addTo(mymap);

        // Feature Layer from ArcGIS Online
        var featureLayer = L.esri.featureLayer({
            url: 'https://services.arcgis.com/LBbVDC0hKPAnLRpO/arcgis/rest/services/tree_measurement_all/FeatureServer/0',
            

        }).addTo(mymap);



    &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><a href="https://www.arcgis.com/index.html">ArcGIS Online: A cloud-based GIS platform for mapping, analysis, and data sharing.</a></p>
<hr>
</section>
</section>
<section id="step-7-add-feature-layer-functions" class="level2">
<h2 class="anchored" data-anchor-id="step-7-add-feature-layer-functions"><strong>Step 7: Add Feature Layer Functions</strong></h2>
<p>Now that we’ve completed our map with data, let’s add a <strong>feature layer function</strong> that allows us to interact with the data. These functions enhance our map by displaying <strong>circle markers</strong> at each data point while providing important <strong>popup information</strong> when clicked.</p>
<ul>
<li><strong><code>style: function ()</code></strong>
<ul>
<li>This function defines the visual appearance of the feature layer.</li>
</ul></li>
<li><strong><code>onEachFeature: function (feature, layer)</code></strong>
<ul>
<li>This function creates a <strong>popup tool</strong> that allows users to view detailed information when clicking a feature.</li>
</ul></li>
</ul>
<section id="why-this-matters" class="level3">
<h3 class="anchored" data-anchor-id="why-this-matters"><strong>Why This Matters</strong></h3>
<p>This step transforms your static map into an <strong>interactive ecological data visualization tool</strong>. By integrating a <strong>feature layer function</strong>, you make the map more informative and user-friendly, allowing users to explore data directly on the map rather than relying on a separate table or document.</p>
<hr>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;EVS 3000L&lt;/title&gt;


    &lt;!-- Load Leaflet from CDN --&gt;
    &lt;link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" /&gt;
    &lt;script src="https://unpkg.com/leaflet/dist/leaflet.js"&gt;&lt;/script&gt;

    &lt;!-- Load Esri Leaflet --&gt;
    &lt;script src="https://unpkg.com/esri-leaflet"&gt;&lt;/script&gt;

    &lt;style&gt;
        #mapid {
            height: 100vh;
            width: 100%;
        }
    &lt;/style&gt;

&lt;/head&gt;
&lt;body&gt;

    &lt;!-- Map Container --&gt;
    &lt;div id="mapid"&gt;&lt;/div&gt;

    &lt;script&gt;
        // Initialize Map
        var mymap = L.map('mapid').setView([29.6339, -82.3699], 16.8);

        // Base Layers
        var earth = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Map data © &lt;a href="https://www.openstreetmap.org/"&gt;OpenStreetMap&lt;/a&gt; contributors'
        }).addTo(mymap);

        var satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &amp;copy; Esri, Earthstar Geographics',
            maxZoom: 19
        });

        // Layer Control
        var baseMaps = {
            "Earth": earth,
            "Satellite": satellite
        };

        L.control.layers(baseMaps).addTo(mymap);

        // Feature Layer from ArcGIS Online
        var featureLayer = L.esri.featureLayer({
            url: 'https://services.arcgis.com/LBbVDC0hKPAnLRpO/arcgis/rest/services/tree_measurement_all/FeatureServer/0',
            style: function () {
                return { color: "blue", weight: 1, fillOpacity: 0.6 };
            },
            pointToLayer: function (geojson, latlng) {
                return L.circleMarker(latlng, {
                    radius: 8,  // Adjust size of circles
                    fillColor: "red",
                    color: "white",
                    weight: 1,
                    opacity: 1,
                    fillOpacity: 0.8
                });
            },

            onEachFeature: function (feature, layer) {
                // Content for hover/click popup
                var popupContent = `
                    &lt;strong&gt;Species:&lt;/strong&gt; ${feature.properties.species || "Unknown"}&lt;br&gt;
                    &lt;strong&gt;DBH:&lt;/strong&gt; ${feature.properties.dbh_inches || "N/A"} inches&lt;br&gt;
                    &lt;strong&gt;Height:&lt;/strong&gt; ${feature.properties.height_stick_feet_inches || "N/A"} feet&lt;br&gt;
                    &lt;strong&gt;Names:&lt;/strong&gt; ${feature.properties.names || "N/A"}&lt;br&gt;
                    &lt;strong&gt;Location:&lt;/strong&gt; ${feature.properties.location || "N/A"}&lt;br&gt;
                `;
                layer.bindPopup(popupContent);
            }

        }).addTo(mymap);



    &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
</section>
<section id="congratulations" class="level3">
<h3 class="anchored" data-anchor-id="congratulations"><strong>Congratulations!</strong> 🎉</h3>
<p>You have now coded and built your first environmental GIS-based webpage! You’ve learned a new way to work with spatial data while learning basic programming concepts.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>